
<head>
  <!-- HTML Meta Tags -->
  <title>Urban Scapes City Planner</title>
  <!-- set the favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

  <!-- set some meta tags -->
  <meta itemprop="name" content="Procedural City Generator">
  <meta itemprop="description" content="A Procedural City Generator built in Three.JS
  The Final Project for UTS 31264 Introduction To Computer Graphics">
  <meta property="og:type" content="website">

  <meta name="twitter:title" content="Procedural City Generator">
  <meta name="twitter:description"
    content="A Procedural City Generator built in Three.JS - The Final Project for UTS 31264 Introduction To Computer Graphics">

  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- the styling that our site uses -->
  <link rel="stylesheet" href="style.css">

  <script>
        // Function to create and download JSON file
        function downloadJSON() {
            const filename = 'City_JSON_' + Date.toISOString() + '.json';
            const file = scene.toJSON();
            const jsonBlob = new Blob([JSON.stringify(file, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(jsonBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
  </script>

  <!-- include the three.js library -->
  <script type="text/javascript" src="js/vendor/three.js"> </script>

  <!-- include the trackball code -->
  <script type="text/javascript" src="js/vendor/OrbitControls.js"> </script>

  <!-- include the model loader -->
  <script type="text/javascript" src="js/vendor/PLYLoader.js"></script>

  <!-- include the GUI -->
  <script type="text/javascript" src="js/vendor/dat.gui.min.js"></script>

  <!-- include performance stats -->
  <script type="text/javascript" src="js/vendor/stats.min.js"></script>

  <!-- include the first person controls -->
  <script type="text/javascript" src="js/vendor/PointerLockControls.js"></script>
</head>

<body>
  <!-- The main information panel, shown in the top-left -->
  <div id="info-panel">
    <h1>UrbanScapes City Planner </h1>
    
    <div id="info-content">
      <!-- <h3>Press the '<i>Generate New</i>' button to start!</h3> -->
      <h3>A open Platform for City Building and Visualization</h3>
      <h3>Built with ❤️ at HackXcelerate, CBIT. </h3>


      <!-- <h4>Camera Controls</h4>
      <ul>
        <li>Left Click + Drag to Rotate</li>
        <li>Right Click + Drag to Pan</li>
        <li>Scroll Wheel to Zoom</li>
        <li>Space to move up</li>
        <li>Left shift to move down</li>
      </ul> -->
<!-- 
      <h4>First Person Mode Controls</h4>
      <ul>
        <li>Move mouse to rotate</li>
        <li>W to move forwards</li>
        <li>A to move left</li>
        <li>S to move backwards</li>
        <li>D to move right</li>
      </ul> -->
<!-- 
      <h4>Building Controls</h4>
      <ul>
        <li>Left Click to select</li>
        <li>Right Click to de-select</li>
        <li>Left Click again to move the building</li>
      </ul> -->

    </div>

    <div id="info-btn" class="btn">[click panel anywhere to hide]</div>

  </div>

  <div id="info-panel" style="margin-top: 175px;">
    <h4 >Themes</h4>
    <!-- theme shifting buttons -->
      <Button class="eTheme" type="button">Energy</Button>
      <Button class="pTheme" type="button">Pollution</Button> 
<<<<<<< Updated upstream
      <Button class="Hindex" type="button">Happiness Index</Button> 
      <Button class="normal" type="button">Normal</Button>
=======
      <!-- <Button class="normal" type="button">Normal</Button> -->
>>>>>>> Stashed changes
      <!-- <Button onclick="downloadJSON(scene, 'hello.json');console.log('Hello')" >Download</Button> -->
      <input type="file" id="fileInput">
      <button id="loadButton">Apply</button>
  </div>


  <script>
    document.getElementById('loadButton').addEventListener('click', function() {
        const fileInput = document.getElementById('fileInput');
        const file = fileInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                const jsonData = JSON.parse(event.target.result);
                scene = new THREE.ObjectLoader().parse(jsonData);
                console.log(jsonData);
                // Now you can use jsonData as needed
            };
            reader.readAsText(file);
        } else {
            console.error('No file selected.');
        }
    });
  </script>

  <!-- Setup the City Generator -->
  <script type="text/javascript" src="js/setup.js"></script>

  <!-- Handle user inputs -->
  <script type="text/javascript" src="js/inputController.js"></script>

  <!-- Generate the city -->
  <script type="text/javascript" src="js/cityGenerator.js"></script>

  <!-- Handle the Controls GUI -->
  <script type="text/javascript" src="js/gui.js"></script>

  <!-- Show some stats -->
  <script type="text/javascript" src="js/stats.js"></script>

  <!-- Add the main logic -->
  <script type="text/javascript" src="js/main.js"></script>
</body>

</html>